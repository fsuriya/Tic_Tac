(this.webpackJsonptictac=this.webpackJsonptictac||[]).push([[0],{27:function(e,t,c){},52:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(24),i=c.n(s),r=(c(52),c(27),c(39)),j=c(8),o=c(23),d=c.n(o),l=c(33),b=c(15),h=(c(42),c(64)),x=c(65),O=c(44),u=c(68),m=c(25),f=(c(54),m.a.apps[0]||m.a.initializeApp({apiKey:"AIzaSyD7aNgu0w_KtYEW9oxgyLMNTDSaUj2LplY",authDomain:"tic-tac-a9787.firebaseapp.com",projectId:"tic-tac-a9787",storageBucket:"tic-tac-a9787.appspot.com",messagingSenderId:"605630121168",appId:"1:605630121168:web:26a133a474e67dd3384ad5",measurementId:"G-Q3EYRFLFNP"})),y=c(2),p=f.firestore().collection("History"),v=function(){var e,t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(3),r=Object(b.a)(i,2),j=r[0],o=r[1],m=1,f=!1,v=Object(n.useState)(),g=Object(b.a)(v,2),w=g[0],N=g[1],k=Object(n.useState)(),B=Object(b.a)(k,2),S=B[0],D=B[1];function T(e){console.log(e),e<3?s("Please set Dimension more than 3"):o(e)}function z(){for(var e=[],t=0;t<j;t++)for(var c=0;c<j;c++)e.push(0);N(e)}function P(){for(var e=[],t=0;t<j;t++){for(var c=[],n=0;n<j;n++)null!=w&&0===w[t*j+n]?c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board",onClick:function(e){M(e)},children:Object(y.jsx)("div",{style:{},className:"Text-Board",children:"\xa0"})})):null!=w&&1===w[t*j+n]?c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/j},children:"X"})})):null!=w&&2===w[t*j+n]&&c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/j},children:"O"})}));e.push(Object(y.jsx)("div",{children:c}))}D(e)}function C(){for(var e=[],t=0;t<j;t++){for(var c=[],n=0;n<j;n++)null!=w&&0===w[t*j+n]?c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board",children:Object(y.jsx)("div",{style:{},className:"Text-Board",children:"\xa0"})})):null!=w&&1===w[t*j+n]?c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/j},children:"X"})})):null!=w&&2===w[t*j+n]&&c.push(Object(y.jsx)("button",{id:t*j+n,style:{width:330/j,height:330/j},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/j},children:"O"})}));e.push(Object(y.jsx)("div",{children:c}))}D(e)}function F(e){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(d.a.mark((function e(t){var c,n,a,s,i,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=!1,n=!0,a=!0,s=0;s<j;s++){for(i=!0,r=!0,o=0;o<j;o++)i&=w[s*j+o]===t,r&=w[o*j+s]===t,s===o&&(n&=w[s*j+o]===t),s+o+1===j&&(a&=w[s*j+o]===t);1!==i&&1!==r||(c=!0)}return 1!==n&&1!==a||(c=!0),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(d.a.mark((function e(){var t,c,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=!1,c=!0,n=0;n<j;n++)for(a=0;a<j;a++)c&=0!=w[n*j+a];return 1===c&&(t=!0),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){p.add({dim:j,board:w,time:Date().toLocaleString(),win:e}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}function X(){return(X=Object(l.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return console.log(w),t.next=5,F(1);case 5:if(!t.sent){t.next=13;break}s("Player X is win"),f=!0,e=1,C(),G(),t.next=40;break;case 13:return t.next=15,F(2);case 15:if(!t.sent){t.next=23;break}s("Player O is win"),f=!0,e=2,C(),G(),t.next=40;break;case 23:return t.next=25,E();case 25:if(t.t0=t.sent,!t.t0){t.next=35;break}return t.next=29,F(1);case 29:if(t.t1=t.sent,t.t1){t.next=34;break}return t.next=33,F(1);case 33:t.t1=t.sent;case 34:t.t0=!t.t1;case 35:if(!t.t0){t.next=40;break}s("Draw"),f=!0,e=0,G();case 40:1!==m||f?2!==m||f||(m=1,s("Player X turn.")):(m=2,s("Player O turn."));case 41:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(e){var t=w;1===m?t[parseInt(e.currentTarget.id)]=1:2===m&&(t[parseInt(e.currentTarget.id)]=2),function(){X.apply(this,arguments)}(),console.log("".concat(m)),N(t)}return Object(n.useEffect)((function(){T(3)}),[]),Object(n.useEffect)((function(){s("Set dimension to ".concat(j," X ").concat(j)),z()}),[j]),Object(n.useEffect)((function(){console.log(w),P()}),[w]),Object(y.jsxs)("div",{className:"Center",children:[Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(O.a,{xs:1}),Object(y.jsx)(O.a,{xs:3,children:Object(y.jsx)(u.a.Label,{column:!0,sm:"2",children:"Dimension"})}),Object(y.jsx)(O.a,{xs:7,children:Object(y.jsx)(u.a.Control,{type:"number",placeholder:"Enter Dimension",onChange:function(e){return T(parseInt(e.target.value))}})})]})}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"message",children:a}),S,Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"btns",onClick:function(e){return z(),s("Game reset!!!"),P(),void console.log(w)},children:"Reset"}),Object(y.jsxs)("div",{className:"github",children:[Object(y.jsx)("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=fsuriya&repo=Tic_Tac&type=star",title:"github-star",width:"51px"}),Object(y.jsx)("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=fsuriya&type=follow",title:"github-follow",width:"123px"})]})]})},g=c(18),w=c(70),N=c(66),k=f.firestore().collection("History"),B=function(e){var t,c,n=e.info,a=Object(g.useMediaQuery)({query:"(min-device-width: 1224px)"}),s=Object(g.useMediaQuery)({query:"(max-device-width: 1224px)"}),i=function(){k.doc(n.id).delete().then((function(){return console.log("Delete ".concat(n.id," successfully!"))}))};return 0==n.win?t=Object(y.jsx)("a",{style:{fontSize:15},children:"Draw"}):1==n.win?t=Object(y.jsx)("a",{style:{fontSize:15},children:"Play X is won"}):2==n.win&&(t=Object(y.jsx)("a",{style:{fontSize:15},children:"Play O is won"})),0==n.win?c=Object(y.jsx)("a",{style:{fontSize:12},children:"Draw"}):1==n.win?c=Object(y.jsx)("a",{style:{fontSize:12},children:"Play X is won"}):2==n.win&&(c=Object(y.jsx)("a",{style:{fontSize:12},children:"Play O is won"})),Object(y.jsxs)("div",{children:[a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)(w.a.Body,{children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsxs)(O.a,{xs:10,children:[Object(y.jsxs)("h5",{style:{color:"DarkGray"},children:[n.time[4]," ",n.time[2]," ",n.time[1]," ",n.time[3]]}),t,Object(y.jsx)("br",{}),Object(y.jsxs)("a",{style:{fontSize:15},children:["Dimension : ",n.dim]})]}),Object(y.jsxs)(O.a,{xs:2,style:{alignItems:"center"},children:[Object(y.jsx)(x.a,{children:Object(y.jsx)(N.a,{variant:"danger",onClick:i,children:"Delete"})}),Object(y.jsx)(x.a,{children:Object(y.jsx)(N.a,{variant:"dark",href:"detail?id=".concat(n.id),children:"Detail"})})]})]})})})}),Object(y.jsx)("br",{})]}),s&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)(w.a.Body,{children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsxs)(O.a,{xs:8,children:[Object(y.jsx)("h6",{style:{color:"DarkGray"},children:n.time[4]}),Object(y.jsxs)("h6",{style:{color:"DarkGray"},children:[n.time[2]," ",n.time[1]," ",n.time[3]]}),c,Object(y.jsx)("br",{}),Object(y.jsxs)("a",{style:{fontSize:12},children:["Dimension : ",n.dim]})]}),Object(y.jsxs)(O.a,{xs:4,children:[Object(y.jsx)(x.a,{children:Object(y.jsx)(N.a,{variant:"danger",onClick:i,children:"Delete"})}),Object(y.jsx)("br",{}),Object(y.jsx)(x.a,{children:Object(y.jsx)(N.a,{variant:"dark",href:"detail?id=".concat(n.id),children:"Detail"})})]})]})})})}),Object(y.jsx)("br",{})]})]})},S=f.firestore().collection("History"),D=function(){var e=Object(g.useMediaQuery)({query:"(min-device-width: 1224px)"}),t=Object(g.useMediaQuery)({query:"(max-device-width: 1224px)"}),c=Object(n.useState)(),a=Object(b.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){S.onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data().time.split(" ");t.push({id:e.id,dim:e.data().dim,board:e.data().board,time:c,win:e.data().win})})),i(t)}))}),[]),Object(y.jsxs)("div",{children:[e&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("br",{}),Object(y.jsx)("h2",{className:"Center",children:"History"}),Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(O.a,{}),Object(y.jsx)(O.a,{xs:10,children:s?s.map((function(e,t){return Object(y.jsx)(B,{info:e},t)})):Object(y.jsx)(w.a,{children:Object(y.jsx)(w.a.Body,{children:"Game history not found!!!"})})}),Object(y.jsx)(O.a,{})]})})]}),t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("br",{}),Object(y.jsx)("h2",{className:"Center",children:"History"}),Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(O.a,{}),Object(y.jsx)(O.a,{xs:12,children:s?s.map((function(e,t){return Object(y.jsx)(B,{info:e},t)})):Object(y.jsx)(w.a,{children:Object(y.jsx)(w.a.Body,{children:"Game history not found!!!"})})}),Object(y.jsx)(O.a,{})]})})]})]})},T=f.firestore().collection("History"),z=function(){var e=Object(g.useMediaQuery)({query:"(min-device-width: 1224px)"}),t=Object(g.useMediaQuery)({query:"(max-device-width: 1224px)"}),c=new URLSearchParams(Object(j.f)().search).get("id"),a=Object(n.useState)(),s=Object(b.a)(a,2),i=s[0],r=s[1],o=Object(n.useState)(),d=Object(b.a)(o,2),l=d[0],u=d[1],m=Object(n.useState)(),f=Object(b.a)(m,2),p=f[0],v=f[1],w=Object(n.useState)(),k=Object(b.a)(w,2);k[0],k[1];return Object(n.useEffect)((function(){T.doc(c).get().then((function(e){r(e.data().board),u(e.data().dim);var t=e.data().time.split(" ");0==e.data().win?v("Draw at ".concat(t[4]," ").concat(t[2]," ").concat(t[1]," ").concat(t[3]," in Game match dimesion ").concat(e.data().dim,".")):1==e.data().win?v("Player X won at ".concat(t[4]," ").concat(t[2]," ").concat(t[1]," ").concat(t[3]," in Game match dimesion ").concat(e.data().dim," x ").concat(e.data().dim,".")):2==e.data().win&&v("Player O won at ".concat(t[4]," ").concat(t[2]," ").concat(t[1]," ").concat(t[3]," ","\n"," in Game match dimesion ").concat(e.data().dim," x ").concat(e.data().dim,"."))}))}),[]),Object(y.jsxs)("div",{children:[e&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"Center",children:[Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"message",children:p}),Object(y.jsx)(h.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(O.a,{}),Object(y.jsx)(O.a,{xs:5,children:i?i.map((function(e,t){return 0===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board",children:Object(y.jsx)("div",{style:{},className:"Text-Board",children:"\xa0"})}):1===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/l},children:"X"})}):2===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/l},children:"O"})}):void 0})):Object(y.jsx)("a",{})}),Object(y.jsx)(O.a,{})]})}),Object(y.jsx)("br",{}),Object(y.jsx)(N.a,{variant:"dark",href:"history",children:"Back"})]})}),t&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"Center",children:[Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"message",children:p}),i?i.map((function(e,t){return 0===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board",children:Object(y.jsx)("div",{style:{},className:"Text-Board",children:"\xa0"})}):1===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/l},children:"X"})}):2===e?Object(y.jsx)("button",{style:{width:330/l,height:330/l},className:"Board-notclick",children:Object(y.jsx)("div",{className:"Text-Board",style:{fontSize:240/l},children:"O"})}):void 0})):Object(y.jsx)("a",{}),Object(y.jsx)("br",{}),Object(y.jsx)(N.a,{variant:"dark",href:"history",children:"Back"})]})})]})},P=c(67),C=c(69),F=function(){return Object(y.jsxs)(P.a,{bg:"dark",variant:"dark",expand:"lg",style:{marginLeft:30,marginRight:20},children:[Object(y.jsx)(P.a.Brand,{href:"/",children:"Tic Tac Toe"}),Object(y.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(C.a,{className:"mr-auto",children:[Object(y.jsx)(C.a.Link,{href:"/",children:"Play"}),Object(y.jsx)(C.a.Link,{href:"history",children:"History"})]})})]})},I=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("header",{className:"Nav",children:Object(y.jsx)(F,{})}),Object(y.jsx)("body",{children:Object(y.jsx)(r.a,{children:Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{exact:!0,path:"/",component:v}),Object(y.jsx)(j.a,{exact:!0,path:"/history",component:D}),Object(y.jsx)(j.a,{exact:!0,path:"/detail",component:z})]})})})]})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),E()}},[[62,1,2]]]);
//# sourceMappingURL=main.aa0c3424.chunk.js.map